specVersion: 0.0.1
description: Aztec Note Management
repository: https://github.com/AztecProtocol/AZTEC
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: ACE
    network: development
    source:
      address: '0x8a863D4615D00caf2271059035EF28f9b8967cA3'
      abi: ACE
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      file: ./mappings/ACE.ts
      entities:
        - Asset
      abis:
        - name: ACE
          file: ./build/abis/ACE.json
      eventHandlers:
        - event: CreateNoteRegistry(address,address,uint256,bool,bool)
          handler: createNoteRegistry
    templates:
      - name: ZkAsset
        kind: ethereum/contract
        network: development
        source:
          abi: ZkAsset
        mapping:
          kind: ethereum/events
          apiVersion: 0.0.2
          language: wasm/assemblyscript
          file: ./mappings/ZkAsset.ts
          entities:
            - Account
              Note
              NoteAccess
          abis:
            - name: ZkAsset
              file: ./build/abis/ZkAssetOwnable.json
          eventHandlers:
            - event: CreateNote(address,bytes32,bytes)
              handler: createNote
            - event: DestroyNote(address,bytes32,bytes)
              handler: destroyNote
            - event: UpdateNoteMetaData(bytes32,bytes)
              handler: updateNoteMetaData
  - kind: ethereum/contract
    name: AZTECAccountRegistry
    network: development
    source:
      address: '0x588716A284A149b5EA61EE7d4bae5690685f768A'
      abi: AZTECAccountRegistry
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      file: ./mappings/AccountRegistry.ts
      entities:
        - Account
      abis:
        - name: AZTECAccountRegistry
          file: ./build/abis/AZTECAccountRegistry.json
      eventHandlers:
        - event: RegisterExtension(address,bytes)
          handler: registerExtension
